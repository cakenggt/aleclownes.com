function renderPage(t,n){var e=$("#container");e.empty(),e.append('<tr><td class="gutter">1</td><td> <span class="storage">var</span> '+t+" = {</tr></td>"),renderObject(e,n,1,!0);var a=$("td:last");a.html(a.html().substring(0,a.html().length-1)+";"),e.append('<tr><td class="gutter">'+($("#container tr").length+1)+"</td><td></td></tr>"),$("#line-num").text($("#container tr").length+":1")}function renderObject(t,n,e,a){var s="",r="",l=generateIndents(e);s=l[0],r=l[1];var c=a?'<tr><td class="gutter">'+($("#container tr").length+1)+"</td><td>"+s:"",i=a?"</td></tr>":"</tr>";if(n instanceof Object)if(n instanceof Date)$(".indent:last").append('new <span class="class">Date</span>(<span class="string">"'+n.getFullYear()+"-"+("0"+(n.getMonth()+1)).slice(-2)+'"</span>),');else if(n instanceof Function){var p=n.toString(),o=p.slice(p.indexOf("{")+1,p.lastIndexOf("}")),d=$(".indent:last").html().split(":");$(".indent:last").html('<span class="function-name">'+d[0]+"</span>:"+d[1]),$(".indent:last").append('<span class="function">function</span>(){');var g=/(\w*)\.(\w*)\s/,u='<span class="class">$1</span>.<span class="constant">$2</span> ';o=o.replace(g,u),g=/\'(.*)\'/,u="<span class=\"string\">'$1'</span>",o=o.replace(g,u),t.append('<tr><td class="gutter">'+($("#container tr").length+1)+"</td><td>"+s+o+r);var h=generateIndents(e-1);t.append('<tr><td class="gutter">'+($("#container tr").length+1)+"</td><td>"+h[0]+"},"+h[1])}else{var f="";f=n instanceof Array?"[]":"{}",$(".indent:last").append(f[0]);var m=!0;for(var v in n)n.hasOwnProperty(v)&&(t.append('<tr><td class="gutter">'+($("#container tr").length+1)+"</td><td>"+s+'<span class="key">'+v+":&nbsp</span>"+r),renderObject(t,n[v],e+1,!m),m=!1);if(!$.isEmptyObject(n)){var w=$(".indent:last");w.html(w.html().substring(0,w.html().length-1))}var h=generateIndents(e-1);t.append('<tr><td class="gutter">'+($("#container tr").length+1)+"</td><td>"+h[0]+f[1]+","+h[1])}else{var b="";if("string"==typeof n){var y=JSON.stringify(n);y=y.substring(1,y.length-1);for(var O=$(".key:last").text(),N=O.length;!isUrl(y)&&y.length+N+2>80;){var S=new RegExp("(.{40,"+(80-N)+"}\\s)?(.*)"),j=y.replace(S,"$1");if(y=y.replace(S,"$2"),!j)break;b+='<span class="string">"'+j+'"</span>+',$(".indent:last").append(b),N=0,c='<tr><td class="gutter">'+($("#container tr").length+1)+"</td><td>"+s,i="</td></tr>",t.append(c+r+i),b=""}b+='<span class="string">"'+y+'"</span>'}else b+="number"==typeof n||"boolean"==typeof n||null===n?'<span class="constant">'+n+"</span>":"<span>"+n+"</span>";b+=",",$(".indent:last").append(b)}}function generateIndents(t){for(var n="",e="",a=0;t>a;a++)n+='<div class="indent">',e+="</div>";return[n,e]}function escapeGenerator(){$(".string").each(function(){var t=$(this).html(),n=/(\\\S)/g,e='<span class="escape">$1</span>',a=t.replace(n,e);$(this).html(a)})}function urlLinker(){$(".string").each(function(){var t=$(this).html(),n=/(((http|ftp|https):\/\/)?[\w-]+(\.[\w-]+)+([\w.,@?^=%&amp;:\/~+#-]*[\w@?^=%&amp;\/~+#-])?)/g,e='<a href="$1">$1</a>',a=t.replace(n,e);$(this).html(a)})}function isUrl(t){var n=/(((http|ftp|https):\/\/)?[\w-]+(\.[\w-]+)+([\w.,@?^=%&amp;:\/~+#-]*[\w@?^=%&amp;\/~+#-])?)/g;return null!==n.exec(t)}function bootPage(t,n){newJSON=n,renderPage(t,n),escapeGenerator(),urlLinker()}var newJSON={};$(function(){$("#resource").on("dblclick",function(){$(this).attr("contenteditable","true")}),$("#resource").on("blur",function(){$.getJSON($(this).text(),function(t){bootPage("newJSON",t)})}),console.log("For an easter egg, double click on the resource span in the bottom left corner and enter in a url used to retrieve a JSON")}),function(t,n,e,a,s,r,l){t.GoogleAnalyticsObject=s,t[s]=t[s]||function(){(t[s].q=t[s].q||[]).push(arguments)},t[s].l=1*new Date,r=n.createElement(e),l=n.getElementsByTagName(e)[0],r.async=1,r.src=a,l.parentNode.insertBefore(r,l)}(window,document,"script","//www.google-analytics.com/analytics.js","ga"),ga("create","UA-64371674-1","auto"),ga("send","pageview");
